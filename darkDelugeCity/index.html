<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The Dark Deluge City</title>
    <style>
        html,body{
            display: flex;
            justify-content: center;
        }
        #disclaimer{
            font-family:'Lucida Sans', 'Lucida Sans Regular', 'Lucida Grande', 'Lucida Sans Unicode', Geneva, Verdana, sans-serif;
            font-size: 18px;
            user-select: none;
            text-decoration: underline;
        }
    </style>
</head>
<body>
    <div>
        <p id="disclaimer">Warning: This game contains flashing images</p>
        <canvas id="canvas" height="600" width="800"></canvas>
    </div>
    <script>eval(function(p,a,c,k,e,r){e=function(c){return(c<a?'':e(parseInt(c/a)))+((c=c%a)>35?String.fromCharCode(c+29):c.toString(36))};if(!''.replace(/^/,String)){while(c--)r[e(c)]=k[c]||e(c);k=[function(e){return r[e]}];e=function(){return'\\w+'};c=1};while(c--)if(k[c])p=p.replace(new RegExp('\\b'+e(c)+'\\b','g'),k[c]);return p}('s g=1k.3o("g");s w=g.4Z("2d");s 51=53(46,47/60);q 1H(a,b){I R.54()*(b-a)+a}q 57(a,b){I R.3p(1H(a,b))}q 23(a){I a*(R.2T/1w)}q 48(a){I a*(1w/R.2T)}q 49(a,b){I 48(R.58(b,a))}q 59(a,b){I R.5a(a,b)}q 5b(a,b){u(b=="x"){I R.5c(23(a[1]))*a[0]}1q u(b=="y"){I R.5d(23(a[1]))*a[0]}}q 4a(a){I(2*R.2T*a)}q 5e(a,b){I a/4a(b)}q 2p(a,b,c){s d=b.x-a.x;s e=b.y-a.y;a.1r=d*c;a.1h=e*c}q 1I(a){J(1x D 24 a){D.1I()}}q 5f(a){J(1x D 24 a){D.3q()}}q 3r(a,b){J(1x D 24 a){D.3r(b)}}q 1l(a){J(1x D 24 a){D.1l()}}q 5g(x,y,a){I((x>=a.O())&&(x<=a.S()))&&((y>=a.1g())&&(y<=a.1m()))}q A(a,b){J(1x D 24 a){b.1s(D)}}s 2U=0;s 2V=0;q 3s(l,r,t,b){I((2U>l)&&(2U<r))&&((2V>t)&&(2V<b))}q 1J(a){I 3s(a.O(),a.S(),a.1g(),a.1m())}q 4b(e){s a=g.5h();2U=R.3p(e.5i-a.O);2V=R.3p(e.5j-a.1g)}1k.25("5k",q(e){4b(e)});1k.25("5l",4c);1k.25("5m",4d);1k.25("5n",4e);1k.25("5o",4f);1k.25("5p",q(){3t=26});1k.25("5q",q(){3t=2q});s 1y=[];s 2F=[];s 2r=q(){};s 3t=2q;q 4f(e){s a=e.3u.27();u(!2F.28(a)){2F.1s(a)}}q 4c(e){s a=e.3u.27();u(!1y.28(a)){1y.1s(a)}}q 4d(e){s a=e.3u.27();u(1y.28(a)){J(s b=0;b<1y.M;b++){u(1y[b]==a){1y.5r(b,1);1R}}}}q 5s(a){I 1y.28(a.27())}q 2G(a){I 2F.28(a.27())}q 5t(a){J(1x D 24 a){u(!1y.28(D.27())){I 2q}}I 26}q 2W(a){J(1x D 24 a){u(1y.28(D.27())){I 26}}I 2q}q 4e(){u(3s(0,g.f,0,g.5)){2r()}}q o(e){k.x=0;k.y=0;k.f=1;k.5=1;k.h="3v(0,0,0,0)";k.1S="3v(0,0,0,0)";k.1z=1;k.5u=0;k.1r=0;k.1h=0;k.2X=0;k.3w=0;k.1T="4g";k.1A=0;k.29=1;k.4h=m 5v();k.1K={x:0,y:0,f:1,5:1,4i:1,4j:1};k.2H="2s";k.p={5w:G,};k.3x={"2s":q(){},};u(e!==1B){J(T 2I e){u(k[T]!==1B)k[T]=e[T]}}k.1I=q(){4k(k.1T){2a"2t":w.2J();w.2Y=k.h;w.2Z=k.1S;w.1z=k.1z;w.3y();w.2K(k.x,k.y);w.5x(0,0,k.f/2,0,R.2T/1w,26);w.4l();w.4m();w.1S();w.2L();1R;2a"4g":w.2J();w.2Y=k.h;w.2Z=k.1S;w.1z=k.1z;w.2K(k.x,k.y);w.31(23(k.1A));w.5y(-k.f/2,-k.5/2,k.f,k.5);w.5z(-k.f/2,-k.5/2,k.f,k.5);w.2L();1R;2a"4n":Z U=k.f/2;w.2J();w.2Y=k.h;w.2Z=k.1S;w.1z=k.1z;w.3y();w.2K(k.x,k.y);w.31(23(k.1A));w.3y();w.5A(0,U);w.1C(U/4,U/4);w.1C(U,U/8);w.1C(U*0.4o,-U/4);w.1C(U/2,-U);w.1C(0,-U/2);w.1C(-U/2,-U);w.1C(-U*0.4o,-U/4);w.1C(-U,U/8);w.1C(-U/4,U/4);w.1C(0,U);w.4l();w.4m();w.1S();w.2L();1R}};k.3q=q(){w.2J();w.2K(k.x,k.y);w.5B(k.1K.4i,k.1K.4j);w.31(23(k.1A));w.3q(k.4h,k.1K.x,k.1K.y,k.1K.f,k.1K.5,-k.f/2,-k.5/2,k.f,k.5);w.2L()};k.1l=q(){k.1r*=k.29;k.1h*=k.29;k.x+=k.1r;k.y+=k.1h};k.O=q(){I k.x-k.f/2};k.S=q(){I k.x+k.f/2};k.1g=q(){I k.y-k.5/2};k.1m=q(){I k.y+k.5/2};k.1t=q(a){I(((k.S()>=a.O())&&(k.O()<=a.S()))&&((k.1m()>=a.1g())&&(k.1g()<=a.1m())))};k.5C=q(c){u(k.1t(c)){s d=[R.1U(k.S()-c.O()),R.1U(k.O()-c.S()),R.1U(k.1m()-c.1g()),R.1U(k.1g()-c.1m()),];d.5D(q(a,b){I b-a});4k(d[3]){2a(R.1U(k.S()-c.O())):32(k.S()>c.O()){k.x--}k.1r=0;1R;2a(R.1U(k.O()-c.S())):32(k.O()<c.S()){k.x++}k.1r=0;1R;2a(R.1U(k.1m()-c.1g())):32(k.1m()>c.1g()){k.y--}k.1h=0;1R;2a(R.1U(k.1g()-c.1m())):32(k.1g()<c.1m()){k.y++}k.1h=0;1R}}};k.4p=q(){k.3x[k.2H]()};k.1b=q(a){u(a!==1B){J(T 2I a){u(k[T]!==1B)k[T]=a[T]}}};k.3r=q(a){u(a!==1B){J(T 2I a){u(k.1K[T]!==1B)k.1K[T]=a[T]}}}}q 11(b){k.x=0;k.y=0;k.1r=0;k.1h=0;k.29=1;k.1A=0;k.K="11";k.h="5E";k.1S="3v(0,0,0,0)";k.1z=1;k.13="1L";k.V="4q 5F";u(b!==1B){J(T 2I b){u(k[T]!==1B)k[T]=b[T]}}k.1I=q(){w.2J();w.2Y=k.h;w.2Z=k.1S;w.1z=k.1z;w.5G=k.13;w.V=k.V;w.2K(k.x,k.y);w.31(23(k.1A));w.5H(k.K,0,0);w.5I(k.K,0,0);w.2L()};k.1l=q(){k.x+=k.1r*k.29;k.y+=k.1h*k.29};k.1b=q(a){u(a!==1B){J(T 2I a){u(k[T]!==1B)k[T]=a[T]}}}}s 2H="2s";s 3z={"2s":q(){}};s 3A={"2s":q(){}};q 2b(a){2H=a;3A[a]()}q 46(){w.5J(0,0,g.f,g.5);3z[2H]();2F=[];u(33&&2c){u(1D.2e>=4r){1D.2e=0}}u(3B&&1V){u(2f.2e>=2f.5K-1){2f.2e=0}}}s n="X(30, 30, 30)";s v="X(1E,1E,1E)";1x 1n=[["X(30, 30, 30)","X(1E,1E,1E)","4s"],["X(10, 10, 10)","X(G, G, G)","4t 5L"],["X(30, 30, 3C)","X(17,17,2g)","5M!"],["X(30, 3C, 30)","X(17,2g,17)","5N!"],["X(3C, 30, 30)","X(2g,17,17)","5O!"],["X(5P, 35, 5Q)","X(5R, 5S, 5T)","5U :)"],["X(1o, 40, 40)","X(4u,1E,1w)","3D 1"],["X(5V, 4v, 4w)","X(2h, 4x, 5W)","3D 2"],["X(5X, 5Y, 7)","X(5Z, 61, 2M)","3D 3"],];s 1i=0;g.2N.3E=n;1k.4y.2N.3E=n;1k.3o("4z").2N.h=v;s z=m o({x:g.f/2,y:g.5-15,f:30,5:30,h:n,2X:1,3w:-40,29:0.8,p:{3F:2q,}});s Y=m o({1T:"2t",f:1F,h:v});z.3x={"2s":q(){u(2W(["62","63"])){z.1r-=z.2X}u(2W(["64","66"])){z.1r+=z.2X}u(2W(["67","69","6a"])&&z.p.3F){z.1h=z.3w}u((2G("6b")||2G("6c"))&&1M!=9){u(z.h==n){z.h=v;Y.h=n}1q{z.h=n;Y.h=v}}}};s 34=m 11({K:"6d 4t 6e 6f",V:"4A 1u",13:"O",x:30,y:60,h:v});s 1N=m o({x:17,y:17,f:1E,5:60,h:v});s 2u=m 11({K:"6g 6h",V:"1j 1u",13:"O",x:1N.x-1N.f/2+4,y:1N.y+10,h:v});s 1O=m o({x:2i,y:1N.y+60,f:37,5:60,h:v});s 2v=m 11({K:"6i",V:"1j 1u",13:"O",x:1O.x-1O.f/2+4,y:1O.y+10,h:v});s 1W=m o({x:1c,y:1O.y+60,f:1w,5:60,h:v});s 2w=m 11({K:"6j",V:"1j 1u",13:"O",x:1W.x-1W.f/2+4,y:1W.y+10,h:v});s 2j=m o({x:g.f-4B,y:30,f:17,5:60,h:n});s 1P=m 11({K:"6k",V:"1j 1u",13:"1L",x:2j.x,y:2j.y+10,h:n});s 1X=m o({x:g.f-6l,y:17,f:60,5:60,h:n});s 2x=m o({x:g.f-50,y:17,f:60,5:60,h:n});s 38=m 11({K:"<",V:"1j 1u",13:"1L",x:1X.x,y:1X.y+10,h:n});s 39=m 11({K:">",V:"1j 1u",13:"1L",x:2x.x,y:2x.y+10,h:n});s 2k=m 11({K:"4s",V:"1j 1u",13:"1L",x:(1X.x+2x.x)/2,y:1X.y+10,h:n});s 2y=m o({x:2k.x,y:1X.y+60,f:3G,5:60,h:n});s 2O=m 11({K:"3H: 3a",V:"1j 1u",13:"1L",x:2y.x,y:2y.y+10,h:n});s 2P=m o({x:2k.x,y:2y.y+60,f:3G,5:60,h:n});s 2Q=m 11({K:"3I: 3a",V:"1j 1u",13:"1L",x:2P.x,y:2P.y+10,h:n});s 3J=m 11({K:"6m , <>   -   6n",V:"1j 2z",13:"S",x:g.f-20,y:1v,h:n});s 3K=m 11({K:"W , ^ , 4C   -   4D",V:"1j 2z",13:"S",x:g.f-20,y:6o,h:n});s 3L=m 11({K:"E , 4E   -   6p 4F",V:"1j 2z",13:"S",x:g.f-20,y:6q,h:n});s 3M=m 11({K:"[] , {}   -   6r 6s",V:"1j 2z",13:"S",x:g.f-20,y:6t,h:n});s 1d=m o({x:g.f/2,y:-g.5/2,f:g.f,5:g.5,h:n});s H=m o({x:g.f/2,y:g.5/2,f:g.f,5:g.5,h:n});s 2A=[];s 3N=[];s P=m o({x:g.f-N,y:z.y-10,f:40,1T:"4n",1A:1w,h:n});s B=[];s F=[];s 6u=[];s 19=[];s 1G=[];s 1a=[];s 1e=[];s C=[];s 1M=0;s 33;s 3B;s 2c=26;s 1V=26;s 1D;s 2f;s 3b;s 3O;s 2l=0;s L={x:0,y:0};1x 4G=2;1x 3c=0.6,4r=4u;3A={"2R":q(){2r=q(){u(33&&2c&&1D.1Y!=3c){1D.1Y=3c;1D.2e=0;1D.3d()}u(3B){2f.1Y=0;2f.3d()}3e(1N,2u,"2B");3e(1O,2v,"3P");3e(1W,2w,"3Q")}},"3P":q(){2r=q(){u(1J(2j)){2b("2R");1P.h=n;3f(n);1Z();2C([1N,1O,1W],[38,39,2k,1P,2O,2Q])}u(1J(1X)){3R()}u(1J(2x)){3S()}u(1J(2y)){4H()}u(1J(2P)){4I()}};2C([1X,2x,2j,2y,2P],[38,39,2k,1P,2O,2Q])},"3Q":q(){2r=q(){u(1J(2j)){2b("2R");1P.h=n;3f(n);1Z();2C([1N,1O,1W],[1P,3J,3K,3L,3M])}};2C([2j],[1P,3J,3K,3L,3M])},"2B":q(){2r=q(){};Q=[];B=[m o({x:g.f/2,y:g.5+20,f:g.f,5:40,h:n})];F=[m o({x:-20,y:g.5/2,f:40,5:g.5,h:n}),m o({x:g.f+20,y:g.5/2,f:40,5:g.5,h:n})];4J[1M]();A(1a,Q);A(1e,Q);A(C,Q);u(1M!=0){Q.1s(1d)}1d.y=g.5/2;2D()},"3T":q(){1d.y=-g.5;Q.1s(m 11({K:"6v J 6w!",V:"4A 1u",13:"O",x:30,y:60,h:v}));2D()}};s 4J=[q(){u(1V){2f.1Y=0.2}6x(q(){34.y=-G;2u.y=-G;2v.y=-G;2w.y=-G},47);1a=[H,Y,m 11({K:"E 4K 4E 4L 6y 6z 4F",x:g.f/2,V:"4q 2z",13:"1L",y:g.5-G,h:n})];1e=[1d,34,2u,2v,2w];C=[z,P];A(B,C);A(F,C);19=[];4M(1a,6A,v,{4N:-4,4O:-3,4P:7,4Q:8},[30,g.f+1Q])},q(){z.h=n;Y.h=v;H.h=n;P.x=50;P.h=v;1a=[H];1e=[Y,m 11({K:"6B 4K 4C 4L 4D",x:g.f/2,V:"6C 2z",13:"1L",y:g.5-N,h:n})];C=[z,P];A([m o({x:g.f/2,y:g.5-15,5:3U,f:40,h:v})],F);A([m o({x:g.f/2,y:g.5-56,5:2,f:30}),],B);A(19,1a);A(B,C);A(F,C)},q(){L={x:50,y:g.5-15};H.h=n;P.x=g.f-50;1a=[H];1e=[m o({x:g.f/2+N,y:1p,f:1F,5:21,h:n}),m o({x:g.f/2+N,y:2m,f:20,5:G,h:n}),Y,];Z 1f=2i;J(Z i=0;i<36;i++){u(i%6==0){1f+=45}1e.1s(m o({x:(3g+(i%6)*40),y:1f,f:20,5:30,h:v}))}1G=[m o({x:g.f/2+10,y:g.5,f:2h,5:10})];C=[z,P];A([m o({x:g.f/2-1v,y:g.5-15,5:3U,f:40,h:v}),m o({x:g.f/2-G,y:g.5-15,5:6D,f:60,h:n}),m o({x:g.f/2+20,y:g.5-55,5:1c,f:10,h:n}),m o({x:g.f/2+17,y:g.5-55,5:1c,f:10,h:n}),],F);A([m o({x:g.f/2-1v,y:g.5-56,5:2,f:30}),m o({x:g.f/2-G,y:g.5-6E,5:2,f:50}),m o({x:g.f/2+N,y:g.5-1c,5:20,f:17,h:n})],B);A(19,1a);A(B,C);A(F,C)},q(){L={x:g.f-50,y:g.5-4R};z.1b({x:L.x,y:L.y,h:v});Y.h=n;H.h=n;P.1b({x:50,y:L.y-10,h:v});1a=[H];1e=[m o({x:g.f/2+N,y:1p,f:1F,5:21,h:n}),m o({x:g.f/2+N,y:2m,f:20,5:G,h:n}),m o({x:1o,y:g.5-2h,f:1E,5:22,h:n}),Y,];Z 1f=2i;J(Z i=0;i<36;i++){u(i%6==0){1f+=45}1e.1s(m o({x:(3g+(i%6)*40),y:1f,f:20,5:30,h:v}))}1G=[m o({x:g.f/2,y:g.5,f:g.f,5:10})];C=[z,P];A([m o({x:3h,y:g.5-55,5:1c,f:10,h:n}),m o({x:3G,y:g.5-2m,5:3i,f:10,h:v}),m o({x:6F,y:g.5-2m,5:3i,f:10,h:v}),m o({x:g.f-3V,y:g.5-55,5:1c,f:10,h:n}),m o({x:g.f-2g,y:g.5-55,5:1c,f:10,h:n}),m o({x:g.f-1o,y:g.5-55,5:1c,f:10,h:v}),m o({x:2S,y:g.5-2h,5:N,f:30,h:n}),],F);A([m o({x:60,y:g.5-1o,5:20,f:1v,h:n}),m o({x:4S,y:g.5-1v,5:20,f:3j,h:v}),m o({x:g.f-2S,y:g.5-1o,5:20,f:3j,h:n}),m o({x:g.f-60,y:g.5-1o,5:20,f:1c,h:v}),m o({x:2S,y:g.5-1Q,5:2,f:15}),],B);A(19,1a);A(B,C);A(F,C)},q(){L={x:50,y:g.5-40};z.1b({x:L.x,y:L.y,h:n});Y.h=v;H.h=n;P.1b({x:g.f-50,y:g.5-1w,h:v});1a=[H];1e=[m o({x:g.f/2+1w,y:1p,f:1F,5:21,h:n}),m o({x:g.f/2+1w,y:2m,f:20,5:G,h:n}),m o({x:3W,y:g.5,f:22,5:22,1A:45,h:v}),Y,m o({x:1v,y:g.5-1w,f:20,5:4T,h:n}),m o({x:2g,y:g.5-1p,f:17,5:20,h:n}),m o({x:3W,y:g.5-4S,f:14,5:50,h:n}),m o({x:3W,y:g.5-6G,f:N,5:30,h:n}),];Z 1f=2i;J(Z i=0;i<36;i++){u(i%6==0){1f+=45}1e.1s(m o({x:(6H+(i%6)*40),y:1f,f:20,5:30,h:v}))}1G=[];C=[z,P];A([m o({x:6I,y:g.5-65,f:10,5:17,h:n}),],F);A([m o({x:6J,y:g.5-17,f:4U,5:20,h:n}),m o({x:6K,y:g.5-4B,f:G,5:20,h:v}),],B);A(19,1a);A(B,C);A(F,C)},q(){L={x:g.f-50,y:g.5-4R};z.1b({x:L.x,y:L.y,h:v});Y.h=n;H.h=n;P.1b({x:50,y:L.y-10,h:v});1a=[H];1e=[m o({x:g.f/2+N,y:1p,f:1F,5:21,h:n}),m o({x:g.f/2+N,y:2m,f:20,5:G,h:n}),m o({x:1o,y:g.5-2h,f:1E,5:22,h:n}),Y,];Z 1f=2i;J(Z i=0;i<36;i++){u(i%6==0){1f+=45}1e.1s(m o({x:(3g+(i%6)*40),y:1f,f:20,5:30,h:v}))}1G=[m o({x:g.f/2,y:g.5,f:g.f,5:10})];C=[z,P];A([m o({x:3h,y:g.5-55,5:1c,f:10,h:v}),m o({x:2g,y:g.5-55,5:1c,f:10,h:n}),m o({x:3V,y:g.5-55,5:1c,f:10,h:n}),m o({x:g.f-3V,y:g.5-55,5:1c,f:10,h:n}),m o({x:g.f-2g,y:g.5-55,5:1c,f:10,h:n}),m o({x:g.f-1o,y:g.5-55,5:1c,f:10,h:v}),m o({x:g.f/2,y:22,5:G,f:10,h:v,1h:2}),],F);A([m o({x:60,y:g.5-1o,5:20,f:1v,h:v}),m o({x:2S,y:g.5-1o,5:20,f:3j,h:n}),m o({x:g.f-2S,y:g.5-1o,5:20,f:3j,h:n}),m o({x:g.f-60,y:g.5-1o,5:20,f:1c,h:v}),],B);A(19,1a);A(B,C);A(F,C)},q(){L={x:50,y:g.5-40};z.1b({x:L.x,y:L.y,h:n});Y.h=v;H.h=n;P.1b({x:50,y:37,h:v});1a=[H];1e=[m o({x:g.f/2+N,y:1p,f:1F,5:21,h:n}),m o({x:g.f/2+N,y:2m,f:20,5:G,h:n}),m o({x:1v,y:g.5-2h,f:1F,5:22,h:n}),m o({x:3X,y:g.5+50,f:22,5:22,1A:45,h:v}),Y,m o({x:50,y:g.5-4V,f:20,5:4T,h:n}),m o({x:4V,y:g.5-1F,f:17,5:20,h:n}),m o({x:3X,y:g.5-4U,f:14,5:50,h:n}),m o({x:3X,y:g.5-6L,f:N,5:30,h:n}),m o({x:g.f/2+40,y:1p,f:1,5:21,h:n}),m o({x:g.f/2+1c,y:1p,f:1,5:21,h:n}),];Z 1f=2i;J(Z i=0;i<36;i++){u(i%6==0){1f+=45}1e.1s(m o({x:(3g+(i%6)*40),y:1f,f:20,5:30,h:v}))}1G=[];C=[z,P];A([],F);A([m o({x:g.f/2+N,y:4w,5:16,f:1F,h:n}),m o({x:1v,y:g.5-6M,5:16,f:1F,h:n}),m o({x:g.f/2+N,y:g.5-40,5:15,f:G,h:n})],B);A(19,1a);A(B,C);A(F,C)},q(){L={x:g.f/2,y:g.5/2};z.1b({x:L.x,y:L.y,h:v});Y.h=n;H.h=n;P.1b({x:g.f-50,y:60,h:v});1a=[H];1e=[m o({x:60,y:60,f:50,1T:"2t",h:v}),m o({x:3k,y:3k,f:N,1T:"2t",h:n}),Y,];1G=[];C=[z,P];A([m o({x:g.f-50,y:g.5/2,f:G,5:g.5-2h,h:n}),m o({x:g.f-1v,y:g.5/2,f:G,5:g.5-1p,h:n}),m o({x:g.f-2M,y:g.5/2,f:G,5:g.5-21,h:n}),],F);A([m o({x:g.f/2,y:g.5*(3/4),5:g.5/2,f:g.f,h:n}),m o({x:g.f-50,y:G,f:N,5:1}),m o({x:g.f-1v,y:4v,f:N,5:1}),m o({x:g.f-2M,y:2M,f:N,5:1}),],B);A(B,C);A(F,C);A(19,C)},q(){L={x:g.f-50,y:g.5-2i};z.1b({x:L.x,y:L.y,h:v});Y.h=n;H.h=n;P.1b({x:50,y:60,h:v});1a=[H];1e=[m o({x:g.f-60,y:60,f:50,1T:"2t",h:v}),m o({x:g.f-3k,y:3k,f:N,1T:"2t",h:n}),Y,m o({x:g.f/2-6N,y:g.5/2,f:1,5:g.5,h:v}),m o({x:g.f/2-12,y:g.5/2,f:1,5:g.5,h:v}),];1G=[m o({x:g.f/2,y:g.5,f:g.f,5:10})];C=[z,P];A([m o({x:g.f-37,y:g.5-68,f:G,5:3i,h:n}),m o({x:g.f-1p,y:g.5-68,f:G,5:3i,h:n}),m o({x:3h,y:g.5/2+44,f:2M,5:g.5-6O,h:n}),],F);A([m o({x:g.f-60,y:g.5-40,f:1c,5:N,h:v}),m o({x:g.f-37,y:g.5-4W,f:4X,5:1}),m o({x:g.f-1p,y:g.5-4W,f:4X,5:1}),m o({x:3h,y:g.5/2-4x,f:1Q,5:1}),m o({x:g.f/2-52,y:g.5-17,5:15,f:G,h:v}),],B);A(B,C);A(F,C);A(19,C)},q(){z.1b({x:50,y:g.5-15,h:n});H.h=v;P.1b({x:g.f/2,y:g.5-N,h:n});1a=[H];1e=[];1G=[];C=[z,P];A([m o({x:g.f/2,y:g.5-15,5:3U,f:40,h:n})],F);A([m o({x:g.f/2,y:g.5-56,5:2,f:30}),],B);A(B,C);A(F,C);19.3l(D=>{D.h=n});A(19,C)},];3z={"2R":q(){2E();3m(2A,[2u,2v,2w],v);2p(1d,{x:g.f/2,y:-g.5/2},0.3n);1d.1l();1I(Q)},"3P":q(){2E();3m(2A,[38,39,1P,2O,2Q],n);2p(1d,{x:g.f/2,y:g.5*(3/2)},0.3n);1d.1l();1I(Q)},"3Q":q(){2E();3m(2A,[1P],n);2p(1d,{x:g.f/2,y:g.5*(3/2)},0.3n);1d.1l();1I(Q)},"2B":q(){2E();2B[1M]();2p(1d,{x:g.f/2,y:(1M%2==0)?(-g.5/2):(g.5*(3/2))},0.1);1d.1l();z.4p();z.1h+=4G;z.1l();Y.1b({x:z.x,y:z.y});Z 3Y=2q;B.3l(D=>{u(z.1m()>D.1g()&&z.y<D.y&&z.1t(D)){z.y=D.1g()-(z.5/2);3Y=26}});z.p.3F=3Y;F.3l(D=>{u(z.S()>D.O()&&z.S()<D.S()&&z.1t(D)){z.x=D.O()-(z.f/2)}1q u(z.O()<D.S()&&z.O()>D.O()&&z.1t(D)){z.x=D.S()+(z.f/2)}});1G.3l(D=>{u(z.1t(D)){z.1b({x:L.x,y:L.y})}});u(z.1t(P)){1M++;u(1M>=10){2b("3T")}1q{2b("2B")}}1I(Q)},"3T":q(){2E();2p(1d,{x:g.f/2,y:g.5/2},0.3n);1d.1l();2n([30,g.f+1Q]);1I(Q)}};s 2B=[q(){2n([30,g.f+1Q])},q(){2o()},q(){2o()},q(){2o()},q(){2o()},q(){2o();u(F[F.M-1].y<1p||F[F.M-1].y>g.5-50){F[F.M-1].1h*=-1}F[F.M-1].1l()},q(){2o();u(z.1t(B[B.M-1])&&B[B.M-1].y>6P){B[B.M-1].y-=2}1q u(!z.1t(B[B.M-1])&&B[B.M-1].y<g.5-40){B[B.M-1].y+=2}},q(){2n([30,g.f+1Q])},q(){2n([30,g.f+1Q]);u(z.1t(B[B.M-1])&&B[B.M-1].y>6Q){B[B.M-1].y-=2}1q u(!z.1t(B[B.M-1])&&B[B.M-1].y<g.5-17){B[B.M-1].y+=2}},q(){2n([30,g.f+1Q]);u(1H(0,G)<0.1&&2l<=0){3Z(n)}41(n)},];2b("2R");2C([1N,1O,1W],[]);q 3m(a,b,c){J(Z i=0;i<a.M;i++){u(1J(a[i])){a[i].h=c;b[i].h=(c==n)?(v):(n)}1q{a[i].h=(c==n)?(v):(n);b[i].h=c}}}q 2C(a,b){2A=a;3N=b;Q=[H];A(2A,Q);A([1d,34,2u,2v,2w],Q);A(3N,Q);2D()}q 3f(a){1d.h=(a==n)?(v):(n);1d.y=g.5/2;H.h=a}q 4M(a,b,c,d,e){J(Z i=0;i<b;i++){Z 42=1H(d.4N,d.4O);Z 43=1H(d.4P,d.4Q);19.1s(m o({x:1H(e[0],e[1]),y:1H(-g.5-10,-10),f:10,5:2,1A:49(42,43),1r:42,1h:43,h:c}))}u(a!=-1){A(19,a)}}q 2n(a){J(Z i=0;i<19.M;i++){19[i].1l();u(19[i].y>g.5+10){19[i].y=-10;19[i].x=1H(a[0],a[1])}}}q 3Z(a){H.h=a;2l=18;u(1V){3b.1Y=0.3;3b.3d();3b.2e=0}}q 41(a){u(2l<=0){H.h=(a==n)?(v):(n)}1q{2l--;u(2l%4==0){H.h=(a==n)?(v):(n)}1q{H.h=a}}}q 2D(){1k.4y.2N.3E=n;1k.3o("4z").2N.h=(1M>0)?(n):(v);J(Z i=0;i<Q.M;i++){u(Q[i].h!=n&&Q[i].h!=v){J(Z j=0;j<1n.M;j++){u(Q[i].h==1n[j][0]){Q[i].h=n}1q u(Q[i].h==1n[j][1]){Q[i].h=v}}}}}q 3S(){1i++;u(1i>=1n.M){1i=0}n=1n[1i][0];v=1n[1i][1];2D();2k.K=1n[1i][2];1Z()}q 3R(){1i--;u(1i<0){1i=1n.M-1}n=1n[1i][0];v=1n[1i][1];2D();2k.K=1n[1i][2];1Z()}q 2E(){u(2G("6R")){3R()}u(2G("6S")){3S()}}q 1Z(){u(1V){3O.1Y=0.8;3O.3d()}}q 4H(){2c=!2c;2O.K=(2c)?("3H: 3a"):("3H: 4Y");u(33&&2c){1D.1Y=3c;1D.2e=0}1q{1D.1Y=0}1Z()}q 4I(){1V=!1V;2Q.K=(1V)?("3I: 3a"):("3I: 4Y");1Z()}q 3e(a,b,c){u(1J(a)){2b(c);b.h=v;3f(v);1Z()}}q 2o(){2n([30,g.f+1Q]);u(1H(0,G)<0.1&&2l<=0){3Z(v)}41(v)}',62,427,'|||||height||||||||||width|canvas|color|||this||new|col1|Obj||function||var||if|col2|ctx|||player|pushArray|floors|frontLayer|element||walls|100|bg|return|for|text|resetPos|length|80|left|goal|levelObjs|Math|right|value|_radius|font||rgb|light|let||Text||align||||140||rain|backLayer|set|120|curtain|midLayer|_y|top|vy|chosenPalette|38px|document|move|bottom|palettes|110|350|else|vx|push|hits|Monospace|150|180|const|a_KeysDown|lineWidth|angle|undefined|lineTo|music|220|300|resets|randNum|draw|mouseInsideObj|imgData|center|level|startBtn|optionsBtn|backTxt|240|break|stroke|shape|abs|soundOn|controlsBtn|paletteBtn1|volume|playClick||500|400|toRadians|of|addEventListener|true|toLowerCase|includes|friction|case|changeState|musicOn||currentTime|rainSFX|230|200|115|backBtn|paletteTxtMain|thunderTimer|75|moveRain|regularThunderRain|follow|false|onClick|default|circle|startTxt|optionsTxt|controlsTxt|paletteBtn2|musicBtn|Calibri|btns|levels|generateTitleElements|regenerateColors|paletteSwaps|a_KeysPressed|getKeyPress|currentState|in|save|translate|restore|250|style|musicTxt|soundBtn|soundTxt|title|285|PI|mousex|mousey|getAnyKey|ax|fillStyle|strokeStyle||rotate|while|musicReady|titleTxt|||170|paletteTxt1|paletteTxt2|On|thunderSFX|onMusicVol|play|btnPress|changeCurtain|380|125|160|145|82|forEach|btnHover|05|getElementById|round|drawImage|setImgData|mouseInside|mouseDown|code|rgba|ay|states|beginPath|gamestates|gamestateInits|rainReady|90|Retro|backgroundColor|canJump|260|Music|Sounds|controlsTxt1|controlsTxt2|controlsTxt3|controlsTxt4|txts|clickSFX|options|controls|paletteDown|paletteUp|end|83|340|290|190|_jump|generateThunder||timeThunder|_vx|_vy|||main|1000|toDegrees|getAngle|getCircum|updateMousePos|documentKeyDown|documentKeyUp|onUserClick|onKeyPress|rect|img|flipX|flipY|switch|closePath|fill|star|375|doState|24px|loopEnd|Default|Dark|255|175|108|213|body|disclaimer|48px|70|Space|Jump|Slash|Light|gravity|toggleMusic|toggleSounds|levelInits|or|to|generateRain|xMin|xMax|yMin|yMax|135|315|360|265|130|148|85|Off|getContext||timer||setInterval|random|||randInt|atan2|getMag|hypot|getPoint|cos|sin|getRotatePercent|drawImg|pointIn|getBoundingClientRect|clientX|clientY|mousemove|keydown|keyup|click|keypress|mousedown|mouseup|splice|getKey|getAllKeys|force|Image|health|arc|fillRect|strokeRect|moveTo|scale|collides|sort|black|Arial|textAlign|fillText|strokeText|clearRect|duration|Mode|Blue|Green|Red|95|122|105|198|201|Purple|133|183|202|73|94||149|keyA|arrowleft|keyD||arrowright|keyW||arrowup|space|keyE|slash|The|Deluge|City|Start|Game|Options|Controls|Back|320|AD|Move|210|Flip|270|Swap|Palette|330|background|Thanks|Playing|setTimeout|Toggle|Your|450|Up|14px|243|136|370|275|480|555|680|440|225|392|92|87|185|155|bracketleft|bracketright'.split('|'),0,{}))
    </script>
    <audio id="music" oncanplaythrough="musicReady = true; music=document.getElementById('music');">
        <source src="audio/lost.mp3" type="audio/mpeg">
        Your browser does not support the audio element.
    </audio>
    <audio id="rain" oncanplaythrough="rainSFX=document.getElementById('rain'); rainReady=true;" loop>
        <source src="audio/mixkit-rain-loop-1250.wav" type="audio/wav">
        Your browser does not support the audio element.
    </audio>
    <audio id="thunder" oncanplaythrough="thunderSFX=document.getElementById('thunder');">
        <source src="audio/mixkit-rain-and-thunder-crash-1258.mp3" type="audio/mpeg">
        Your browser does not support the audio element.
    </audio>
    <audio id="clickSFX" oncanplaythrough="clickSFX=document.getElementById('clickSFX');">
        <source src="audio/click.mp3" type="audio/mpeg">
        Your browser does not support the audio element.
    </audio>
</body>
</html>